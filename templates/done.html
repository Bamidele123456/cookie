<!DOCTYPE html>
<html>
<head>
    <title>Send User ID Example</title>
</head>
<body>
    <a id="sendUserIdLink" href="/send_user_id">Click Here</a>

    <script>
        // Function to get a cookie value by name
        function getCookie(name) {
            let matches = document.cookie.match(new RegExp(
                "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
            ));
            return matches ? decodeURIComponent(matches[1]) : undefined;
        }

        // Read the user_id cookie
        const userId = getCookie('user_id');
        console.log("User ID from cookie:", userId);

    // Add userId to the link href attribute
    document.addEventListener('DOMContentLoaded', (event) => {
        const link = document.getElementById('sendUserIdLink');
        if (link) {
            const originalHref = link.getAttribute('href');
            link.setAttribute('href', `${originalHref}?user_id=${userId}`);
        }
    });
    </script>
</body>
</html>
